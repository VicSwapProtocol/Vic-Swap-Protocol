
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Vic Swap Protocol</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <header class="header">
    <div class="logo">
      <img src="logo.svg" alt="Vic Swap Logo" />
      <span>Vic Swap <strong>PROTOCOL</strong></span>
    </div>
    <nav class="nav">
      <a href="#">Swap</a>
      <a href="#">Tokenize</a>
      <a href="#">Airdrop</a>
      <a href="#">Docs</a>
      <a href="#">Whitepaper</a>
      <a href="#">Roadmap</a>
      <a href="#">Contact</a>
    </nav>
  </header>

  <main>
    <div class="swap-container">
      <h2 class="swap-title">Swap</h2>
      <div class="swap-box">
        <div class="swap-section">
          <label>From</label>
          <div class="input-group">
            <input type="text" placeholder="0.0" />
            <button class="token-button"><img src="eth-icon.svg" /> ETH</button>
          </div>
        </div>
        <div class="arrow">↓</div>
        <div class="swap-section">
          <label>To</label>
          <div class="input-group">
            <input type="text" placeholder="0.0" />
            <button class="token-button"><img src="usdt-icon.svg" /> USDT</button>
          </div>
        </div>
        <button class="connect-button">Connect Wallet</button>
      </div>
    <div class="network-status">
      <div id="wallet-info" style="display: none;">
  <span id="wallet-address"></span>
            <button class="connect-button">Connect Wallet</button>
      </div>
 </main>
 <script>
    const connectButton = document.querySelector('.connect-button');
    connectButton.addEventListener('click', async () => {
      if (typeof window.ethereum !== 'undefined') {
        try {
          const accounts = await window.ethereum.request({ method: 'eth_requestAccounts' });
        // Проверка сети Arbitrum
const chainId = await window.ethereum.request({ method: 'eth_chainId' });
if (chainId !== '0xa4b1') {
  alert('Please switch to the Arbitrum One network.');
  return;
}
   const walletAddress = accounts[0];
         document.getElementById('wallet-address').innerText = walletAddress;
         document.getElementById('wallet-info').style.display = 'block';
   connectButton.innerText = `Connected: ${walletAddress.slice(0, 6)}...${walletAddress.slice(-4)}`;
          connectButton.disabled = true;
        } catch (error) {
          console.error('User rejected the connection');
        }
      } else {
        alert('MetaMask is not installed. Please install it to connect your wallet.');
      }
    });
  </script>
    </div>
</main>
<!-- Web3Modal UMD -->
<script src="https://unpkg.com/web3modal@1.9.12/dist/index.js"></script>
<script src="https://cdn.jsdelivr.net/npm/ethers/dist/ethers.min.js"></script>
<script src="https://unpkg.com/@walletconnect/web3-provider@1.8.0/dist/umd/index.min.js"></script>

<script>
  const providerOptions = {
    walletconnect: {
      package: window.WalletConnectProvider.default,
      options: {
        infuraId: "1c4c5d4f74c24bdda1fd16dfb21c984d", // можно заменить на свой ID
      },
    },
  };

  const web3Modal = new window.Web3Modal.default({
    cacheProvider: false,
    providerOptions,
  });

  const connectWallet = async () => {
    try {
      const providerInstance = await web3Modal.connect();
      const ethersProvider = new ethers.providers.Web3Provider(providerInstance);
      const signer = ethersProvider.getSigner();
      const address = await signer.getAddress();
      console.log("✅ Connected address:", address);
      alert("Wallet connected: " + address);
    } catch (err) {
      console.error("❌ Connection error:", err);
    }
  };
</script>
<button onclick="connectWallet()" style="padding: 10px 20px; border-radius: 10px; background-color: #7c3aed; color: white; font-weight: bold;">
  Connect Wallet
</button>
</body>
</html>
